<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>Mondrian » \Trismegiste\Mondrian\Analysis\HiddenCoupling</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">Mondrian</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/Trismegiste.html"><i class="icon-th"></i> Trismegiste</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">164</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">2</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods</li>
<li class="method public inherited"><a href="#__construct" title="__construct :: Decorates the graph"><span class="description">Decorates the graph</span><pre>__construct()</pre></a></li>
<li class="method public inherited"><a href="#addEdge" title="addEdge :: Add a (un)directed edge if it does not already exist"><span class="description">Add a (un)directed edge if it does not already exist</span><pre>addEdge()</pre></a></li>
<li class="method public inherited"><a href="#addVertex" title="addVertex :: Add a vertex to the graph without edge"><span class="description">Add a vertex to the graph without edge</span><pre>addVertex()</pre></a></li>
<li class="method public "><a href="#generateGraph" title="generateGraph :: Generate a digraph reduced to the hidden coupled vertices"><span class="description">Generate a digraph reduced to the hidden coupled vertices</span><pre>generateGraph()</pre></a></li>
<li class="method public inherited"><a href="#getEdgeIterator" title="getEdgeIterator :: Get an iterator on edges for one vertex"><span class="description">Get an iterator on edges for one vertex</span><pre>getEdgeIterator()</pre></a></li>
<li class="method public inherited"><a href="#getEdgeSet" title="getEdgeSet :: Get the edges set"><span class="description">Get the edges set</span><pre>getEdgeSet()</pre></a></li>
<li class="method public inherited"><a href="#getSuccessor" title="getSuccessor :: Get successors of a vertex"><span class="description">Get successors of a vertex</span><pre>getSuccessor()</pre></a></li>
<li class="method public inherited"><a href="#getVertexSet" title="getVertexSet :: Get the vertices in the graph"><span class="description">Get the vertices in the graph</span><pre>getVertexSet()</pre></a></li>
<li class="method public inherited"><a href="#searchEdge" title="searchEdge :: Searches an existing (directed or not) edge between two vertices"><span class="description">Searches an existing (directed or not) edge between two vertices</span><pre>searchEdge()</pre></a></li>
<li class="method public inherited"><a href="#searchPath" title="searchPath :: "><span class="description">searchPath()
        </span><pre>searchPath()</pre></a></li>
<li class="nav-header protected">» Protected</li>
<li class="method protected "><a href="#findDeclaringVertex" title="findDeclaringVertex :: "><span class="description">findDeclaringVertex()
        </span><pre>findDeclaringVertex()</pre></a></li>
<li class="method protected "><a href="#findOwningClassVertex" title="findOwningClassVertex :: "><span class="description">findOwningClassVertex()
        </span><pre>findOwningClassVertex()</pre></a></li>
<li class="method protected inherited"><a href="#recursivSearchPath" title="recursivSearchPath :: "><span class="description">recursivSearchPath()
        </span><pre>recursivSearchPath()</pre></a></li>
<li class="method protected inherited"><a href="#resetVisited" title="resetVisited :: Reset visited state of edges"><span class="description">Reset visited state of edges</span><pre>resetVisited()</pre></a></li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties</li>
<li class="nav-header protected">» Protected</li>
<li class="property protected inherited"><a href="#%24graph" title="$graph :: "><span class="description">$graph</span><pre>$graph</pre></a></li>
<li class="property protected inherited"><a href="#%24stack" title="$stack :: "><span class="description">$stack</span><pre>$stack</pre></a></li>
</ul>
</div>
<div class="span8">
<a name="%5CTrismegiste%5CMondrian%5CAnalysis%5CHiddenCoupling" id="\Trismegiste\Mondrian\Analysis\HiddenCoupling"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/Trismegiste.html">Trismegiste</a></li>
<span class="divider">\</span><li><a href="../namespaces/Trismegiste.Mondrian.html">Mondrian</a></li>
<span class="divider">\</span><li><a href="../namespaces/Trismegiste.Mondrian.Analysis.html">Analysis</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/Trismegiste.Mondrian.Analysis.HiddenCoupling.html">HiddenCoupling</a>
</li>
</ul>
<div href="../classes/Trismegiste.Mondrian.Analysis.HiddenCoupling.html" class="element class">
<p class="short_description">HiddenCoupling is an analyser which checks and finds hidden coupling
between types</p>
<div class="details">
<p class="long_description"><p>How ?
This analyser searches for method calls. Everytime there is a call of
a method against an object ( $obj->getThing() ), it means an edge from
an implementation vertex where the call is to a method signature vertex.</p>

<p>Since "$obj" does not come from nowhere, its type (class or interface)
must be known by the class owning the implementation vertex.
In other words :
If there is an edge from an implementation to a method, there must be
at least one another directed path between these two vertices
(through the class vertex, through a parameter vertex, superclass etc...)
If you can't figure why, I recommand you to read the digraph language
I've defined in this intent.</p>

<p>If there is none, <em>maybe</em> it means a hidden coupling. I add the "maybe"
because, it's hard to find the type of "$obj" in soft-typed language like
PHP. That's why there can be false positive. But it's easier to check
false positives than to search through all over the php files to find
that kind of weakness in the code.</p>

<p>One another thing, since I cannot detect calls from "call_user_func" and
other magic features of PHP like "$obj->$methodName()" or "new $className"
there is a big limit of this static analyser.</p>

<p>Neverthesless I pretend this tool can find at least 50% of hidden coupling
in poorly-coded classes and about 10% of false positive, from what I've
seen.</p></p>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a name="__construct" id="__construct"></a><div class="element clickable method public __construct" data-toggle="collapse" data-target=".__construct .collapse">
<h2>Decorates the graph</h2>
<pre>__construct(\Trismegiste\Mondrian\Graph\Graph $g) </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\Algorithm::__construct()</td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::__construct()</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$g</h4>
<code><a href="../classes/Trismegiste.Mondrian.Graph.Graph.html">\Trismegiste\Mondrian\Graph\Graph</a></code>
</div>
</div></div>
</div>
<a name="addEdge" id="addEdge"></a><div class="element clickable method public addEdge" data-toggle="collapse" data-target=".addEdge .collapse">
<h2>Add a (un)directed edge if it does not already exist</h2>
<pre>addEdge(\Trismegiste\Mondrian\Graph\Vertex $source, \Trismegiste\Mondrian\Graph\Vertex $target) </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\Algorithm::addEdge()</td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::addEdge()</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$source</h4>
<code><a href="../classes/Trismegiste.Mondrian.Graph.Vertex.html">\Trismegiste\Mondrian\Graph\Vertex</a></code>
</div>
<div class="subelement argument">
<h4>$target</h4>
<code><a href="../classes/Trismegiste.Mondrian.Graph.Vertex.html">\Trismegiste\Mondrian\Graph\Vertex</a></code>
</div>
</div></div>
</div>
<a name="addVertex" id="addVertex"></a><div class="element clickable method public addVertex" data-toggle="collapse" data-target=".addVertex .collapse">
<h2>Add a vertex to the graph without edge</h2>
<pre>addVertex(\Trismegiste\Mondrian\Graph\Vertex $v) </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\Algorithm::addVertex()</td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::addVertex()</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$v</h4>
<code><a href="../classes/Trismegiste.Mondrian.Graph.Vertex.html">\Trismegiste\Mondrian\Graph\Vertex</a></code>
</div>
</div></div>
</div>
<a name="generateGraph" id="generateGraph"></a><div class="element clickable method public generateGraph" data-toggle="collapse" data-target=".generateGraph .collapse">
<h2>Generate a digraph reduced to the hidden coupled vertices</h2>
<pre>generateGraph() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"><p>Since all vertices need to be scanned, go for the Floyd–Warshall algorithm
http://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm
in O(n³)</p></p></div></div>
</div>
<a name="getEdgeIterator" id="getEdgeIterator"></a><div class="element clickable method public getEdgeIterator" data-toggle="collapse" data-target=".getEdgeIterator .collapse">
<h2>Get an iterator on edges for one vertex</h2>
<pre>getEdgeIterator(\Trismegiste\Mondrian\Graph\Vertex $v) : \Trismegiste\Mondrian\Graph\Iterator</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\Algorithm::getEdgeIterator()</td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::getEdgeIterator()</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$v</h4>
<code><a href="../classes/Trismegiste.Mondrian.Graph.Vertex.html">\Trismegiste\Mondrian\Graph\Vertex</a></code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>\Trismegiste\Mondrian\Graph\Iterator</code></div>
</div></div>
</div>
<a name="getEdgeSet" id="getEdgeSet"></a><div class="element clickable method public getEdgeSet" data-toggle="collapse" data-target=".getEdgeSet .collapse">
<h2>Get the edges set</h2>
<pre>getEdgeSet() : array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\Algorithm::getEdgeSet()</td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::getEdgeSet()</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="getSuccessor" id="getSuccessor"></a><div class="element clickable method public getSuccessor" data-toggle="collapse" data-target=".getSuccessor .collapse">
<h2>Get successors of a vertex</h2>
<pre>getSuccessor(\Trismegiste\Mondrian\Graph\Vertex $v) : null | array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\Algorithm::getSuccessor()</td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::getSuccessor()</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$v</h4></div>
<h3>Returns</h3>
<div class="subelement response">
<code>null</code><code>array</code>null if the vertex is not in this graph or an array of vertices</div>
</div></div>
</div>
<a name="getVertexSet" id="getVertexSet"></a><div class="element clickable method public getVertexSet" data-toggle="collapse" data-target=".getVertexSet .collapse">
<h2>Get the vertices in the graph</h2>
<pre>getVertexSet() : array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\Algorithm::getVertexSet()</td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::getVertexSet()</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a name="searchEdge" id="searchEdge"></a><div class="element clickable method public searchEdge" data-toggle="collapse" data-target=".searchEdge .collapse">
<h2>Searches an existing (directed or not) edge between two vertices</h2>
<pre>searchEdge(\Trismegiste\Mondrian\Graph\Vertex $source, \Trismegiste\Mondrian\Graph\Vertex $target) : <a href="../classes/Trismegiste.Mondrian.Graph.Edge.html">\Trismegiste\Mondrian\Graph\Edge</a></pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\Algorithm::searchEdge()</td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::searchEdge()</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$source</h4>
<code><a href="../classes/Trismegiste.Mondrian.Graph.Vertex.html">\Trismegiste\Mondrian\Graph\Vertex</a></code>
</div>
<div class="subelement argument">
<h4>$target</h4>
<code><a href="../classes/Trismegiste.Mondrian.Graph.Vertex.html">\Trismegiste\Mondrian\Graph\Vertex</a></code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/Trismegiste.Mondrian.Graph.Edge.html">\Trismegiste\Mondrian\Graph\Edge</a></code></div>
</div></div>
</div>
<a name="searchPath" id="searchPath"></a><div class="element clickable method public searchPath" data-toggle="collapse" data-target=".searchPath .collapse">
<h2>searchPath()
        </h2>
<pre>searchPath(\Trismegiste\Mondrian\Graph\Vertex $src, \Trismegiste\Mondrian\Graph\Vertex $dst) </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::searchPath()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$src</h4></div>
<div class="subelement argument"><h4>$dst</h4></div>
</div></div>
</div>
<a name="findDeclaringVertex" id="findDeclaringVertex"></a><div class="element clickable method protected findDeclaringVertex" data-toggle="collapse" data-target=".findDeclaringVertex .collapse">
<h2>findDeclaringVertex()
        </h2>
<pre>findDeclaringVertex(\Trismegiste\Mondrian\Transform\Vertex\MethodVertex $meth) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$meth</h4></div>
</div></div>
</div>
<a name="findOwningClassVertex" id="findOwningClassVertex"></a><div class="element clickable method protected findOwningClassVertex" data-toggle="collapse" data-target=".findOwningClassVertex .collapse">
<h2>findOwningClassVertex()
        </h2>
<pre>findOwningClassVertex(\Trismegiste\Mondrian\Transform\Vertex\ImplVertex $impl) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$impl</h4></div>
</div></div>
</div>
<a name="recursivSearchPath" id="recursivSearchPath"></a><div class="element clickable method protected recursivSearchPath" data-toggle="collapse" data-target=".recursivSearchPath .collapse">
<h2>recursivSearchPath()
        </h2>
<pre>recursivSearchPath(\SplObjectStorage $step, \Trismegiste\Mondrian\Graph\Vertex $dst) </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::recursivSearchPath()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$step</h4></div>
<div class="subelement argument"><h4>$dst</h4></div>
</div></div>
</div>
<a name="resetVisited" id="resetVisited"></a><div class="element clickable method protected resetVisited" data-toggle="collapse" data-target=".resetVisited .collapse">
<h2>Reset visited state of edges</h2>
<pre>resetVisited() </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::resetVisited()</td>
</tr></table>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a name="%24graph" id="$graph"> </a><div class="element clickable property protected $graph" data-toggle="collapse" data-target=".$graph .collapse">
<h2>$graph</h2>
<pre>$graph </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered">
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\Algorithm::$$graph</td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::$$graph</td>
</tr>
</table>
</div></div>
</div>
<a name="%24stack" id="$stack"> </a><div class="element clickable property protected $stack" data-toggle="collapse" data-target=".$stack .collapse">
<h2>$stack</h2>
<pre>$stack </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Trismegiste\Mondrian\Graph\BreadthFirstSearch::$$stack</td>
</tr></table>
</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a10</a> and<br>
            generated on 2013-04-12T15:02:09+02:00.<br></footer></div>
</div>
</body>
</html>
