<!DOCTYPE html>
<meta charset="utf-8">
<style>

    .link {
        fill: none;
        stroke: #666;
        stroke-width: 1.5px;
    }

    .nostroke {
        fill: currentColor;
        stroke: none;
    }

    text {
        font: 10px sans-serif;
        pointer-events: none;
        text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;
    }

</style>
<body>   
    <svg width="100%" height="600">
        <defs>
            <g id="class-symbol"><circle r="8" class="nostroke"/></g>
            <g id="interface-symbol"><polygon points="-8,-8  8,-8  0,8" class="nostroke"/></g>
            <g id="method-symbol"><polygon points="-8,8  8,8  0,-8" class="nostroke"/></g>
            <g id="param-symbol"><polygon points="-8,0  0,8  8,0  0,-8" class="nostroke"/></g>
            <g id="impl-symbol"><polygon points="-8,8  8,8  8,-8  -8,-8" class="nostroke"/></g>
            <g id="trait-symbol"><polygon points="0,-9 -9,-2 -6,10 6,10 9,-2" class="nostroke"/></g>
        </defs>
    </svg>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script>

        var graph = {"nodes":[{"name":"TS\\AbusiveReport","type":"interface","color":"green"},{"name":"TS\\Author","type":"class","color":"red"},{"name":"TS\\Author::__construct","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Author::__construct","type":"impl","color":"grey"},{"name":"TS\\Author::setAvatar","type":"impl","color":"grey"},{"name":"TS\\Author::getAvatar","type":"impl","color":"grey"},{"name":"TS\\Author::getNickname","type":"impl","color":"grey"},{"name":"TS\\AuthorInterface","type":"interface","color":"green"},{"name":"TS\\AuthorInterface::getNickname","type":"method","color":"yellow"},{"name":"TS\\AuthorInterface::getAvatar","type":"method","color":"yellow"},{"name":"TS\\AuthorInterface::setAvatar","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Commentary","type":"class","color":"red"},{"name":"TS\\Commentary::__construct","type":"impl","color":"grey"},{"name":"TS\\Commentary::getMessage","type":"method","color":"yellow"},{"name":"TS\\Commentary::getMessage","type":"impl","color":"grey"},{"name":"TS\\Commentary::setMessage","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Commentary::setMessage","type":"impl","color":"grey"},{"name":"TS\\Commentary::getUuid","type":"method","color":"yellow"},{"name":"TS\\Commentary::getUuid","type":"impl","color":"grey"},{"name":"TS\\Content","type":"class","color":"red"},{"name":"TS\\Content::__construct","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Content::__construct","type":"impl","color":"grey"},{"name":"TS\\Content::getAuthor","type":"method","color":"yellow"},{"name":"TS\\Content::getAuthor","type":"impl","color":"grey"},{"name":"TS\\Content::setLastEdited","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Content::setLastEdited","type":"impl","color":"grey"},{"name":"TS\\Content::getLastEdited","type":"method","color":"yellow"},{"name":"TS\\Content::getLastEdited","type":"impl","color":"grey"},{"name":"TS\\Content::getCreatedAt","type":"method","color":"yellow"},{"name":"TS\\Content::getCreatedAt","type":"impl","color":"grey"},{"name":"TS\\Famous","type":"interface","color":"green"},{"name":"TS\\Famous::getFanCount","type":"method","color":"yellow"},{"name":"TS\\Famous::hasFan","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Famous::removeFan","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Famous::addFan","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Famous::getFanIterator","type":"method","color":"yellow"},{"name":"TS\\FamousImpl","type":"trait","color":"hotpink"},{"name":"TS\\FamousImpl::addFan","type":"impl","color":"grey"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\FamousImpl::getFanCount","type":"impl","color":"grey"},{"name":"TS\\FamousImpl::hasFan","type":"impl","color":"grey"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\FamousImpl::removeFan","type":"impl","color":"grey"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\FamousImpl::getFanIterator","type":"impl","color":"grey"},{"name":"TS\\Follower","type":"interface","color":"green"},{"name":"TS\\Follower::getUniqueId","type":"method","color":"yellow"},{"name":"TS\\Follower::follow","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Follower::unfollow","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Follower::isFollowing","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Follower::getFollowingCount","type":"method","color":"yellow"},{"name":"TS\\Follower::getFollowerCount","type":"method","color":"yellow"},{"name":"TS\\Follower::getMinimalInfo","type":"method","color":"yellow"},{"name":"TS\\Follower::getFollowerIterator","type":"method","color":"yellow"},{"name":"TS\\Follower::getFollowingIterator","type":"method","color":"yellow"},{"name":"TS\\Follower::getFriendIterator","type":"method","color":"yellow"},{"name":"TS\\FollowerImpl","type":"trait","color":"hotpink"},{"name":"TS\\FollowerImpl::follow","type":"impl","color":"grey"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\FollowerImpl::unfollow","type":"impl","color":"grey"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\FollowerImpl::isFollowing","type":"impl","color":"grey"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\FollowerImpl::getFollowingCount","type":"impl","color":"grey"},{"name":"TS\\FollowerImpl::getFollowerCount","type":"impl","color":"grey"},{"name":"TS\\FollowerImpl::getFollowerIterator","type":"impl","color":"grey"},{"name":"TS\\FollowerImpl::getFollowingIterator","type":"impl","color":"grey"},{"name":"TS\\FollowerImpl::getFriendIterator","type":"impl","color":"grey"},{"name":"TS\\Publishing","type":"class","color":"red"},{"name":"TS\\Publishing::attachCommentary","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Publishing::attachCommentary","type":"impl","color":"grey"},{"name":"TS\\Publishing::detachCommentary","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Publishing::detachCommentary","type":"impl","color":"grey"},{"name":"TS\\Publishing::getCommentary","type":"method","color":"yellow"},{"name":"TS\\Publishing::getCommentary","type":"impl","color":"grey"},{"name":"TS\\Publishing::getCommentaryByUuid","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\Publishing::getCommentaryByUuid","type":"impl","color":"grey"},{"name":"TS\\SimplePost","type":"class","color":"red"},{"name":"TS\\SimplePost::setTitle","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\SimplePost::setTitle","type":"impl","color":"grey"},{"name":"TS\\SimplePost::getTitle","type":"method","color":"yellow"},{"name":"TS\\SimplePost::getTitle","type":"impl","color":"grey"},{"name":"TS\\SimplePost::setBody","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\SimplePost::setBody","type":"impl","color":"grey"},{"name":"TS\\SimplePost::getBody","type":"method","color":"yellow"},{"name":"TS\\SimplePost::getBody","type":"impl","color":"grey"},{"name":"TS\\User","type":"class","color":"red"},{"name":"TS\\User::__construct","type":"method","color":"yellow"},{"name":"0","type":"param","color":"cyan"},{"name":"TS\\User::__construct","type":"impl","color":"grey"},{"name":"TS\\User::getAuthor","type":"method","color":"yellow"},{"name":"TS\\User::getAuthor","type":"impl","color":"grey"},{"name":"TS\\User::getUniqueId","type":"impl","color":"grey"},{"name":"TS\\User::getMinimalInfo","type":"impl","color":"grey"}],"links":[{"source":1,"target":8},{"source":1,"target":2},{"source":1,"target":5},{"source":1,"target":6},{"source":1,"target":7},{"source":2,"target":3},{"source":2,"target":4},{"source":4,"target":1},{"source":4,"target":3},{"source":5,"target":1},{"source":5,"target":12},{"source":6,"target":1},{"source":7,"target":1},{"source":8,"target":9},{"source":8,"target":10},{"source":8,"target":11},{"source":11,"target":12},{"source":13,"target":22},{"source":13,"target":14},{"source":13,"target":15},{"source":13,"target":17},{"source":13,"target":20},{"source":14,"target":13},{"source":14,"target":24},{"source":14,"target":9},{"source":15,"target":16},{"source":16,"target":13},{"source":17,"target":18},{"source":17,"target":19},{"source":19,"target":13},{"source":19,"target":18},{"source":20,"target":21},{"source":21,"target":13},{"source":22,"target":35},{"source":22,"target":0},{"source":22,"target":44},{"source":22,"target":23},{"source":22,"target":26},{"source":22,"target":28},{"source":22,"target":31},{"source":22,"target":33},{"source":23,"target":24},{"source":23,"target":25},{"source":24,"target":8},{"source":25,"target":22},{"source":25,"target":24},{"source":26,"target":27},{"source":27,"target":22},{"source":28,"target":29},{"source":28,"target":30},{"source":30,"target":22},{"source":30,"target":29},{"source":31,"target":32},{"source":32,"target":22},{"source":33,"target":34},{"source":34,"target":22},{"source":35,"target":36},{"source":35,"target":37},{"source":35,"target":39},{"source":35,"target":41},{"source":35,"target":43},{"source":37,"target":38},{"source":38,"target":8},{"source":39,"target":40},{"source":40,"target":8},{"source":41,"target":42},{"source":42,"target":8},{"source":44,"target":45},{"source":44,"target":47},{"source":44,"target":48},{"source":44,"target":50},{"source":44,"target":52},{"source":45,"target":44},{"source":45,"target":46},{"source":45,"target":9},{"source":46,"target":8},{"source":47,"target":44},{"source":48,"target":44},{"source":48,"target":49},{"source":48,"target":9},{"source":49,"target":8},{"source":50,"target":44},{"source":50,"target":51},{"source":50,"target":9},{"source":51,"target":8},{"source":52,"target":44},{"source":53,"target":54},{"source":53,"target":55},{"source":53,"target":57},{"source":53,"target":59},{"source":53,"target":61},{"source":53,"target":62},{"source":53,"target":63},{"source":53,"target":64},{"source":53,"target":65},{"source":53,"target":66},{"source":55,"target":56},{"source":56,"target":53},{"source":57,"target":58},{"source":58,"target":53},{"source":59,"target":60},{"source":60,"target":53},{"source":67,"target":68},{"source":67,"target":70},{"source":67,"target":72},{"source":67,"target":74},{"source":67,"target":75},{"source":67,"target":76},{"source":67,"target":77},{"source":67,"target":78},{"source":68,"target":67},{"source":68,"target":69},{"source":68,"target":54},{"source":68,"target":63},{"source":69,"target":53},{"source":70,"target":67},{"source":70,"target":71},{"source":70,"target":54},{"source":71,"target":53},{"source":72,"target":67},{"source":72,"target":73},{"source":72,"target":54},{"source":73,"target":53},{"source":74,"target":67},{"source":75,"target":67},{"source":76,"target":67},{"source":77,"target":67},{"source":78,"target":67},{"source":79,"target":22},{"source":79,"target":80},{"source":79,"target":83},{"source":79,"target":86},{"source":79,"target":88},{"source":80,"target":81},{"source":80,"target":82},{"source":81,"target":13},{"source":82,"target":79},{"source":82,"target":81},{"source":83,"target":84},{"source":83,"target":85},{"source":84,"target":13},{"source":85,"target":79},{"source":85,"target":84},{"source":86,"target":87},{"source":87,"target":79},{"source":88,"target":89},{"source":88,"target":90},{"source":90,"target":79},{"source":90,"target":89},{"source":90,"target":20},{"source":91,"target":79},{"source":91,"target":92},{"source":91,"target":95},{"source":91,"target":97},{"source":91,"target":100},{"source":92,"target":93},{"source":92,"target":94},{"source":94,"target":91},{"source":94,"target":93},{"source":95,"target":96},{"source":96,"target":91},{"source":97,"target":98},{"source":97,"target":99},{"source":99,"target":91},{"source":99,"target":98},{"source":100,"target":101},{"source":101,"target":91},{"source":102,"target":35},{"source":102,"target":53},{"source":102,"target":44},{"source":102,"target":67},{"source":102,"target":103},{"source":102,"target":106},{"source":102,"target":108},{"source":102,"target":109},{"source":103,"target":104},{"source":103,"target":105},{"source":104,"target":8},{"source":105,"target":102},{"source":105,"target":104},{"source":106,"target":107},{"source":107,"target":102},{"source":108,"target":102},{"source":109,"target":102}]}

        var force = d3.layout.force()
                .nodes(d3.values(graph.nodes))
                .links(graph.links)
                .size([1000, 600])
                .linkDistance(60)
                .charge(-300)
                .on("tick", tick)
                .start();

        var svg = d3.select("svg");

        // Per-type markers, as they don't inherit styles.
        svg.append("defs")
                .append("marker")
                .attr("id", "edge")
                .attr("viewBox", "0 -5 10 10")
                .attr("refX", 15)
                .attr("refY", -1.5)
                .attr("markerWidth", 6)
                .attr("markerHeight", 6)
                .attr("orient", "auto")
                .append("path")
                .attr("d", "M0,-5L10,0L0,5");

        var path = svg.append("g").selectAll("path")
                .data(force.links())
                .enter().append("path")
                .attr("class", "link")
                .attr("marker-end", "url(#edge)");

        var shape = svg.append("g").selectAll("use")
                .data(force.nodes())
                .enter().append("use")
                .attr("xlink:href", function(d) { return "#" + d.type + "-symbol" })
                .attr('style', function(d) {
                    var color = d.color;
                    if (/[\.\d]+,[\.\d]+,[\.\d]+/.test(d.color)) {
                        color = d.color.split(",");  
                        color = 'hsl(' + (360 * color[0]) + ', 100%, 50%)';
                    }
                    return 'color:' + color
                })
                .call(force.drag);

        var text = svg.append("g").selectAll("text")
                .data(force.nodes())
                .enter().append("text")
                .attr("x", 8)
                .attr("y", ".31em")
                .text(function(d) { return d.name; });

        // Use elliptical arc path segments to doubly-encode directionality.
        function tick() {
            path.attr("d", linkArc);
            shape.attr("transform", transform);
            text.attr("transform", transform);
        }

        function linkArc(d) {
            var dx = d.target.x - d.source.x,
                    dy = d.target.y - d.source.y,
                    dr = Math.sqrt(dx * dx + dy * dy);
            return "M" + d.source.x + "," + d.source.y + "A" + dr + "," + dr + " 0 0,1 " + d.target.x + "," + d.target.y;
        }

        function transform(d) {
            return "translate(" + d.x + "," + d.y + ")";
        }

    </script>
</body>
</html>
